<div *ngIf="loading">
  <i class="fas fa-spinner fa-spin"></i> Loading interview details...
</div>

<div *ngIf="!loading && errorMessage" class="alert alert-danger">
  <i class="fas fa-exclamation-circle"></i> {{ errorMessage }}
</div>

<!-- Display existing interview details in a tile -->

<div *ngIf="!loading && interview && !isEditing" class="interview-tile animate-fade-in">
  <h2 class="section-title"><i class="fas fa-info-circle"></i> Interview Details</h2>
  <div class="interview-info">
    <p><strong>Interview Date:</strong> {{ interview.interviewDate | date: 'short' }}</p>
    <p><strong>Interview Type:</strong> {{ interview.interviewType }}</p>
    <p><strong>Interview Link:</strong> <a [href]="interview.interviewLink">{{ interview.interviewLink }}</a></p>
    <p><strong>Interview Location:</strong> {{ interview.interviewLocation }}</p>
    <p><strong>Feedback:</strong> {{ interview.interviewFeedback }}</p>
  </div>
  
  <button class="btn btn-primary" (click)="toggleEdit()">
    <i class="fas fa-edit"></i> Edit
  </button>
</div>

<!-- Form to edit or create a new interview in a tile -->

<div *ngIf="!loading && (!interview || isEditing)" class="form-tile animate-fade-in">
  <h2 class="section-title">{{ interview ? 'Edit Interview' : 'Create New Interview' }}</h2>
  <form #interviewForm="ngForm" (ngSubmit)="interview ? updateInterview(interviewForm) : createInterview(interviewForm)">
    
    <div class="form-group">
      <label for="interviewDateTime"><i class="fas fa-calendar-alt"></i> Interview Date and Time:</label>
      <input
        id="interviewDateTime"
        name="interviewDateTime"
        type="datetime-local"
        class="form-control"
        [(ngModel)]="interviewDateTime"
        [attr.min]="minDateTime"
        required
      />
    </div>
    
    <div class="form-group">
      <label for="interviewType"><i class="fas fa-clipboard-list"></i> Interview Type:</label>
      <input type="text" id="interviewType" class="form-control" [(ngModel)]="editedInterview.interviewType" name="interviewType" required>
    </div>
  
    <div class="form-group">
      <label for="interviewLink"><i class="fas fa-link"></i> Interview Link:</label>
      <input type="url" id="interviewLink" class="form-control" [(ngModel)]="editedInterview.interviewLink" name="interviewLink">
    </div>
  
    <div class="form-group">
      <label for="interviewLocation"><i class="fas fa-map-marker-alt"></i> Interview Location:</label>
      <input type="text" id="interviewLocation" class="form-control" [(ngModel)]="editedInterview.interviewLocation" name="interviewLocation">
    </div>
  
    <div class="form-group">
      <label for="interviewFeedback"><i class="fas fa-comment-dots"></i> Interview Feedback:</label>
      <textarea id="interviewFeedback" class="form-control" [(ngModel)]="editedInterview.interviewFeedback" name="interviewFeedback"></textarea>
    </div>
  
    <div class="button-group">
      <button type="submit" class="btn btn-primary">
        <i class="fas fa-check-circle"></i> {{ interview ? 'Update Interview' : 'Create Interview' }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="toggleEdit()" *ngIf="interview">
        <i class="fas fa-times-circle"></i> Cancel
      </button>
    </div>
  </form>
</div>
