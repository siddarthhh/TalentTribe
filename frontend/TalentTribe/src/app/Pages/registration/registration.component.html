<div class="register-wrapper d-flex justify-content-center align-items-center">
  <div class="register-container">
    <!-- Left Image -->
    <div class="register-image">
      <img src="../../../../public/assets/4180157.jpg" alt="Register Image" />
    </div>

    <!-- Right Side: Logo and Registration Form -->
    <div class="register-form-container">
      <!-- Logo -->
      <div class="register-logo text-center mb-4">
        <img src="../../../../public/assets/logo.png" alt="Logo" class="logo-img" />
      </div>

      <h2>Register</h2>

      <!-- Scrollable Form -->
      <div class="form-scroll">
        <form #registrationForm="ngForm" (ngSubmit)="onSubmit(registrationForm)">
          <!-- Username -->
          <div class="form-group">
            <label for="username">Username</label>
            <input
              type="text"
              id="username"
              class="form-control"
              name="username"
              [(ngModel)]="user.username"
              required
              #username="ngModel"
            />
            <div *ngIf="username.invalid && (username.dirty || username.touched)" class="text-danger">
              Username is required.
            </div>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="email">Email</label>
            <input
              type="email"
              id="email"
              class="form-control"
              name="email"
              [(ngModel)]="user.email"
              required
              #email="ngModel"
              email
            />
            <div *ngIf="email.invalid && (email.dirty || email.touched)" class="text-danger">
              Please enter a valid email address.
            </div>
          </div>

          <!-- Phone Number -->
          <div class="form-group">
            <label for="phoneNumber">Phone Number</label>
            <input
              type="text"
              id="phoneNumber"
              class="form-control"
              name="phoneNumber"
              [(ngModel)]="user.phoneNumber"
              #phoneNumber="ngModel"
              pattern="[0-9]{10}"
            />
            <div *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)" class="text-danger">
              Phone number must be 10 digits.
            </div>
          </div>

          <!-- Role Selection -->
          <div class="form-group">
            <label>Role</label>
            <div>
              <button
                type="button"
                class="btn btn-outline-primary me-2"
                [ngClass]="{'btn-primary': user.role === 'JobSeeker', 'btn-outline-primary': user.role !== 'JobSeeker'}"
                (click)="setRole('JobSeeker')"
              >
                Job Seeker
              </button>
              <button
                type="button"
                class="btn btn-outline-primary"
                [ngClass]="{'btn-primary': user.role === 'Employer', 'btn-outline-primary': user.role !== 'Employer'}"
                (click)="setRole('Employer')"
              >
                Employer
              </button>
            </div>
            <div *ngIf="registrationForm.submitted && !user.role" class="text-danger mt-2">
              Please select a role.
            </div>
          </div>

          <!-- Password -->
          <div class="form-group">
            <label for="password">Password</label>
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              class="form-control"
              name="password"
              [(ngModel)]="user.passwordHash"
              required
              minlength="6"
              #password="ngModel"
            />
            <button type="button" class="btn btn-sm btn-outline-secondary mt-2" (click)="togglePasswordVisibility()">
              {{ showPassword ? 'Hide' : 'Show' }} Password
            </button>
            <div *ngIf="password.invalid && (password.dirty || password.touched)" class="text-danger">
              Password is required and must be at least 6 characters long.
            </div>
          </div>

          <!-- Confirm Password -->
          <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input
              [type]="showConfirmPassword ? 'text' : 'password'"
              id="confirmPassword"
              class="form-control"
              name="confirmPassword"
              [(ngModel)]="user.confirmPassword"
              required
              #confirmPassword="ngModel"
            />
            <button type="button" class="btn btn-sm btn-outline-secondary mt-2" (click)="toggleConfirmPasswordVisibility()">
              {{ showConfirmPassword ? 'Hide' : 'Show' }} Confirm Password
            </button>
            <div *ngIf="confirmPassword.touched && user.passwordHash !== user.confirmPassword" class="text-danger">
              Passwords do not match.
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="registrationForm.invalid || !user.role || user.passwordHash !== user.confirmPassword"
          >
            Register
          </button>
        </form>
      </div>

      <!-- Already a user? Login -->
      <p class="mt-3 text-center">
        Already a user? <a href="/login" class="login-link">Login here</a>.
      </p>
    </div>
  </div>
</div>
